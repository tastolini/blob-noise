{"id":"H99C","dependencies":[{"name":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/package.json","includedInParent":true,"mtime":1675074860878},{"name":"./styles.css","loc":{"line":1,"column":7,"index":7},"parent":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/src/index.js","resolved":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/src/styles.css"},{"name":"three","loc":{"line":16,"column":7,"index":253},"parent":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/src/index.js","resolved":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/node_modules/three/build/three.module.js"},{"name":"three/examples/jsm/utils/BufferGeometryUtils","loc":{"line":18,"column":30,"index":370},"parent":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/src/index.js","resolved":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/node_modules/three/examples/jsm/utils/BufferGeometryUtils.js"},{"name":"../src/shaders/noise.glsl","loc":{"line":19,"column":18,"index":436},"parent":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/src/index.js","resolved":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/src/shaders/noise.glsl"},{"name":"lodash","loc":{"line":20,"column":14,"index":479},"parent":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/src/index.js","resolved":"/Users/adriancaluseriu/Documents/GitHub/blob-noise/node_modules/lodash/lodash.js"}],"generated":{"js":"\"use strict\";require(\"./styles.css\");var e=require(\"three\"),n=require(\"three/examples/jsm/utils/BufferGeometryUtils\"),t=r(require(\"../src/shaders/noise.glsl\")),i=r(require(\"lodash\"));function r(e){return e&&e.__esModule?e:{default:e}}console.clear();var a=new e.Scene,o=document.getElementById(\"blob_canvas\"),l=new e.PerspectiveCamera(60,o.clientWidth/o.clientHeight,1,1e3);l.position.set(0,0,10);var c=new e.WebGLRenderer({antialias:!0,alpha:!0,premultipliedAlpha:!1});c.setSize(o.clientWidth,o.clientHeight),o.appendChild(c.domElement),window.addEventListener(\"resize\",function(e){l.aspect=o.clientWidth/o.clientHeight,l.updateProjectionMatrix(),c.setSize(o.clientWidth,o.clientHeight)});var s={time:{value:0}},m=new e.DirectionalLight(15849693,.9);m.position.setScalar(1);var d=new e.HemisphereLight(15847639,15849693,.475);a.add(m,d,new e.AmbientLight(4210752,.44));var p=new e.IcosahedronGeometry(1,200);p.deleteAttribute(\"normal\"),p.deleteAttribute(\"uv\"),(p=(0,n.mergeVertices)(p)).computeVertexNormals();var v=new e.MeshPhongMaterial({color:14081979,shininess:1,onBeforeCompile:function(e){e.uniforms.time=s.time,e.vertexShader=\"\\n      uniform float time;\\n      \".concat(t.default,\"\\n      float noise(vec3 p){\\n        float n = snoise(vec4(p, time));\\n        n = sin(n * 3.1415926 * 8.);\\n        n = n * 0.5 + 0.5;\\n        n *= n;\\n        return n;\\n      }\\n      vec3 getPos(vec3 p){\\n        return p * (4. + noise(p * 0.875) * 0.25);\\n      }\\n      \").concat(e.vertexShader,\"\\n    \").replace(\"#include <beginnormal_vertex>\",\"#include <beginnormal_vertex>\\n      \\n        vec3 p0 = getPos(position);\\n        \\n        // https://stackoverflow.com/a/39296939/4045502\\n        \\n        float theta = .1; \\n        vec3 vecTangent = normalize(cross(p0, vec3(1.0, 0.0, 0.0)) + cross(p0, vec3(0.0, 1.0, 0.0)));\\n        vec3 vecBitangent = normalize(cross(vecTangent, p0));\\n        vec3 ptTangentSample = getPos(normalize(p0 + theta * normalize(vecTangent)));\\n        vec3 ptBitangentSample = getPos(normalize(p0 + theta * normalize(vecBitangent)));\\n        \\n        objectNormal = normalize(cross(ptBitangentSample - p0, ptTangentSample - p0));\\n        \\n        ///////////////////////////////////////////////\\n      \").replace(\"#include <begin_vertex>\",\"#include <begin_vertex>\\n        transformed = p0;\\n      \")}}),u=new e.Mesh(p,v);a.add(u);var h=0,g=0,f=0,w=0,b=i.default.throttle(function(e){f=e.clientX/window.innerWidth*.76*Math.PI,w=e.clientY/window.innerWidth*.46*Math.PI},100);document.addEventListener(\"mousemove\",b);var x=new e.Clock;c.setAnimationLoop(function(){h+=.0342*(f-h),g+=.0342*(w-g),u.rotation.x=g,u.rotation.y=h;var e=x.getElapsedTime();s.time.value=.17*e,c.render(a,l)});"},"sourceMaps":{"js":{"mappings":[{"source":"src/index.js","original":{"line":160,"column":2},"generated":{"line":1,"column":0}},{"source":"src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":37}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":41}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":51}},{"source":"src/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":60}},{"source":"src/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":62}},{"source":"src/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":70}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":118}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":120}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":122}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":130}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":160}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":162}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":164}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":172}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":183}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":192}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":194}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":197}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":204}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":207}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":209}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":220}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":222}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":223}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":231}},{"source":"src/index.js","name":"console","original":{"line":22,"column":0},"generated":{"line":1,"column":234}},{"source":"src/index.js","name":"clear","original":{"line":22,"column":8},"generated":{"line":1,"column":242}},{"source":"src/index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":250}},{"source":"src/index.js","name":"scene","original":{"line":24,"column":4},"generated":{"line":1,"column":254}},{"source":"src/index.js","original":{"line":24,"column":12},"generated":{"line":1,"column":256}},{"source":"src/index.js","name":"Scene","original":{"line":24,"column":16},"generated":{"line":1,"column":260}},{"source":"src/index.js","original":{"line":24,"column":21},"generated":{"line":1,"column":262}},{"source":"src/index.js","name":"container","original":{"line":26,"column":6},"generated":{"line":1,"column":268}},{"source":"src/index.js","name":"document","original":{"line":26,"column":18},"generated":{"line":1,"column":270}},{"source":"src/index.js","name":"getElementById","original":{"line":26,"column":27},"generated":{"line":1,"column":279}},{"source":"src/index.js","original":{"line":26,"column":43},"generated":{"line":1,"column":294}},{"source":"src/index.js","name":"camera","original":{"line":28,"column":4},"generated":{"line":1,"column":309}},{"source":"src/index.js","original":{"line":28,"column":13},"generated":{"line":1,"column":311}},{"source":"src/index.js","name":"PerspectiveCamera","original":{"line":28,"column":17},"generated":{"line":1,"column":315}},{"source":"src/index.js","original":{"line":28,"column":34},"generated":{"line":1,"column":317}},{"source":"src/index.js","original":{"line":29,"column":2},"generated":{"line":1,"column":335}},{"source":"src/index.js","name":"container","original":{"line":30,"column":2},"generated":{"line":1,"column":338}},{"source":"src/index.js","name":"clientWidth","original":{"line":30,"column":12},"generated":{"line":1,"column":340}},{"source":"src/index.js","name":"container","original":{"line":30,"column":26},"generated":{"line":1,"column":352}},{"source":"src/index.js","name":"clientHeight","original":{"line":30,"column":36},"generated":{"line":1,"column":354}},{"source":"src/index.js","original":{"line":31,"column":2},"generated":{"line":1,"column":367}},{"source":"src/index.js","original":{"line":32,"column":2},"generated":{"line":1,"column":369}},{"source":"src/index.js","name":"camera","original":{"line":34,"column":0},"generated":{"line":1,"column":374}},{"source":"src/index.js","name":"position","original":{"line":34,"column":7},"generated":{"line":1,"column":376}},{"source":"src/index.js","name":"set","original":{"line":34,"column":16},"generated":{"line":1,"column":385}},{"source":"src/index.js","original":{"line":34,"column":20},"generated":{"line":1,"column":389}},{"source":"src/index.js","original":{"line":34,"column":23},"generated":{"line":1,"column":391}},{"source":"src/index.js","original":{"line":34,"column":26},"generated":{"line":1,"column":393}},{"source":"src/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":397}},{"source":"src/index.js","name":"renderer","original":{"line":38,"column":4},"generated":{"line":1,"column":401}},{"source":"src/index.js","original":{"line":38,"column":15},"generated":{"line":1,"column":403}},{"source":"src/index.js","name":"WebGLRenderer","original":{"line":38,"column":19},"generated":{"line":1,"column":407}},{"source":"src/index.js","original":{"line":38,"column":32},"generated":{"line":1,"column":409}},{"source":"src/index.js","original":{"line":38,"column":33},"generated":{"line":1,"column":423}},{"source":"src/index.js","name":"antialias","original":{"line":39,"column":2},"generated":{"line":1,"column":424}},{"source":"src/index.js","original":{"line":39,"column":13},"generated":{"line":1,"column":435}},{"source":"src/index.js","name":"alpha","original":{"line":40,"column":2},"generated":{"line":1,"column":437}},{"source":"src/index.js","original":{"line":40,"column":9},"generated":{"line":1,"column":444}},{"source":"src/index.js","name":"premultipliedAlpha","original":{"line":41,"column":2},"generated":{"line":1,"column":446}},{"source":"src/index.js","original":{"line":41,"column":22},"generated":{"line":1,"column":466}},{"source":"src/index.js","name":"renderer","original":{"line":43,"column":0},"generated":{"line":1,"column":470}},{"source":"src/index.js","name":"setSize","original":{"line":43,"column":9},"generated":{"line":1,"column":472}},{"source":"src/index.js","name":"container","original":{"line":43,"column":17},"generated":{"line":1,"column":480}},{"source":"src/index.js","name":"clientWidth","original":{"line":43,"column":27},"generated":{"line":1,"column":482}},{"source":"src/index.js","name":"container","original":{"line":43,"column":40},"generated":{"line":1,"column":494}},{"source":"src/index.js","name":"clientHeight","original":{"line":43,"column":50},"generated":{"line":1,"column":496}},{"source":"src/index.js","name":"container","original":{"line":45,"column":0},"generated":{"line":1,"column":510}},{"source":"src/index.js","name":"appendChild","original":{"line":45,"column":10},"generated":{"line":1,"column":512}},{"source":"src/index.js","name":"renderer","original":{"line":45,"column":23},"generated":{"line":1,"column":524}},{"source":"src/index.js","name":"domElement","original":{"line":45,"column":32},"generated":{"line":1,"column":526}},{"source":"src/index.js","name":"window","original":{"line":48,"column":0},"generated":{"line":1,"column":538}},{"source":"src/index.js","name":"addEventListener","original":{"line":48,"column":7},"generated":{"line":1,"column":545}},{"source":"src/index.js","original":{"line":48,"column":24},"generated":{"line":1,"column":562}},{"source":"src/index.js","original":{"line":48,"column":34},"generated":{"line":1,"column":571}},{"source":"src/index.js","name":"event","original":{"line":48,"column":35},"generated":{"line":1,"column":580}},{"source":"src/index.js","name":"camera","original":{"line":49,"column":2},"generated":{"line":1,"column":583}},{"source":"src/index.js","name":"aspect","original":{"line":49,"column":9},"generated":{"line":1,"column":585}},{"source":"src/index.js","name":"container","original":{"line":49,"column":18},"generated":{"line":1,"column":592}},{"source":"src/index.js","name":"clientWidth","original":{"line":49,"column":28},"generated":{"line":1,"column":594}},{"source":"src/index.js","name":"container","original":{"line":49,"column":42},"generated":{"line":1,"column":606}},{"source":"src/index.js","name":"clientHeight","original":{"line":49,"column":52},"generated":{"line":1,"column":608}},{"source":"src/index.js","name":"camera","original":{"line":50,"column":2},"generated":{"line":1,"column":621}},{"source":"src/index.js","name":"updateProjectionMatrix","original":{"line":50,"column":9},"generated":{"line":1,"column":623}},{"source":"src/index.js","name":"renderer","original":{"line":51,"column":2},"generated":{"line":1,"column":648}},{"source":"src/index.js","name":"setSize","original":{"line":51,"column":11},"generated":{"line":1,"column":650}},{"source":"src/index.js","name":"container","original":{"line":51,"column":19},"generated":{"line":1,"column":658}},{"source":"src/index.js","name":"clientWidth","original":{"line":51,"column":29},"generated":{"line":1,"column":660}},{"source":"src/index.js","name":"container","original":{"line":51,"column":42},"generated":{"line":1,"column":672}},{"source":"src/index.js","name":"clientHeight","original":{"line":51,"column":52},"generated":{"line":1,"column":674}},{"source":"src/index.js","original":{"line":58,"column":0},"generated":{"line":1,"column":690}},{"source":"src/index.js","name":"gu","original":{"line":58,"column":4},"generated":{"line":1,"column":694}},{"source":"src/index.js","original":{"line":58,"column":9},"generated":{"line":1,"column":696}},{"source":"src/index.js","name":"time","original":{"line":59,"column":2},"generated":{"line":1,"column":697}},{"source":"src/index.js","original":{"line":59,"column":8},"generated":{"line":1,"column":702}},{"source":"src/index.js","name":"value","original":{"line":59,"column":10},"generated":{"line":1,"column":703}},{"source":"src/index.js","original":{"line":59,"column":17},"generated":{"line":1,"column":709}},{"source":"src/index.js","name":"light","original":{"line":62,"column":4},"generated":{"line":1,"column":713}},{"source":"src/index.js","original":{"line":62,"column":12},"generated":{"line":1,"column":715}},{"source":"src/index.js","name":"DirectionalLight","original":{"line":62,"column":16},"generated":{"line":1,"column":719}},{"source":"src/index.js","original":{"line":62,"column":32},"generated":{"line":1,"column":721}},{"source":"src/index.js","original":{"line":62,"column":33},"generated":{"line":1,"column":738}},{"source":"src/index.js","original":{"line":62,"column":43},"generated":{"line":1,"column":747}},{"source":"src/index.js","name":"light","original":{"line":63,"column":0},"generated":{"line":1,"column":751}},{"source":"src/index.js","name":"position","original":{"line":63,"column":6},"generated":{"line":1,"column":753}},{"source":"src/index.js","name":"setScalar","original":{"line":63,"column":15},"generated":{"line":1,"column":762}},{"source":"src/index.js","original":{"line":63,"column":25},"generated":{"line":1,"column":772}},{"source":"src/index.js","original":{"line":64,"column":0},"generated":{"line":1,"column":775}},{"source":"src/index.js","name":"light2","original":{"line":64,"column":4},"generated":{"line":1,"column":779}},{"source":"src/index.js","original":{"line":64,"column":13},"generated":{"line":1,"column":781}},{"source":"src/index.js","name":"HemisphereLight","original":{"line":64,"column":17},"generated":{"line":1,"column":785}},{"source":"src/index.js","original":{"line":64,"column":32},"generated":{"line":1,"column":787}},{"source":"src/index.js","original":{"line":64,"column":33},"generated":{"line":1,"column":803}},{"source":"src/index.js","original":{"line":64,"column":43},"generated":{"line":1,"column":812}},{"source":"src/index.js","original":{"line":64,"column":53},"generated":{"line":1,"column":821}},{"source":"src/index.js","name":"scene","original":{"line":65,"column":0},"generated":{"line":1,"column":827}},{"source":"src/index.js","name":"add","original":{"line":65,"column":6},"generated":{"line":1,"column":829}},{"source":"src/index.js","name":"light","original":{"line":65,"column":10},"generated":{"line":1,"column":833}},{"source":"src/index.js","name":"light2","original":{"line":65,"column":17},"generated":{"line":1,"column":835}},{"source":"src/index.js","original":{"line":65,"column":25},"generated":{"line":1,"column":837}},{"source":"src/index.js","name":"AmbientLight","original":{"line":65,"column":29},"generated":{"line":1,"column":841}},{"source":"src/index.js","original":{"line":65,"column":41},"generated":{"line":1,"column":843}},{"source":"src/index.js","original":{"line":65,"column":42},"generated":{"line":1,"column":856}},{"source":"src/index.js","original":{"line":65,"column":52},"generated":{"line":1,"column":864}},{"source":"src/index.js","original":{"line":67,"column":0},"generated":{"line":1,"column":870}},{"source":"src/index.js","name":"g","original":{"line":67,"column":4},"generated":{"line":1,"column":874}},{"source":"src/index.js","original":{"line":67,"column":8},"generated":{"line":1,"column":876}},{"source":"src/index.js","name":"IcosahedronGeometry","original":{"line":67,"column":12},"generated":{"line":1,"column":880}},{"source":"src/index.js","original":{"line":67,"column":31},"generated":{"line":1,"column":882}},{"source":"src/index.js","original":{"line":67,"column":32},"generated":{"line":1,"column":902}},{"source":"src/index.js","original":{"line":67,"column":35},"generated":{"line":1,"column":904}},{"source":"src/index.js","name":"g","original":{"line":68,"column":0},"generated":{"line":1,"column":909}},{"source":"src/index.js","name":"deleteAttribute","original":{"line":68,"column":2},"generated":{"line":1,"column":911}},{"source":"src/index.js","original":{"line":68,"column":18},"generated":{"line":1,"column":927}},{"source":"src/index.js","name":"g","original":{"line":69,"column":0},"generated":{"line":1,"column":937}},{"source":"src/index.js","name":"deleteAttribute","original":{"line":69,"column":2},"generated":{"line":1,"column":939}},{"source":"src/index.js","original":{"line":69,"column":18},"generated":{"line":1,"column":955}},{"source":"src/index.js","name":"g","original":{"line":70,"column":0},"generated":{"line":1,"column":962}},{"source":"src/index.js","original":{"line":70,"column":4},"generated":{"line":1,"column":965}},{"source":"src/index.js","name":"mergeVertices","original":{"line":70,"column":4},"generated":{"line":1,"column":967}},{"source":"src/index.js","original":{"line":70,"column":17},"generated":{"line":1,"column":969}},{"source":"src/index.js","name":"g","original":{"line":70,"column":18},"generated":{"line":1,"column":984}},{"source":"src/index.js","name":"computeVertexNormals","original":{"line":71,"column":2},"generated":{"line":1,"column":988}},{"source":"src/index.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1011}},{"source":"src/index.js","name":"m","original":{"line":73,"column":4},"generated":{"line":1,"column":1015}},{"source":"src/index.js","original":{"line":73,"column":8},"generated":{"line":1,"column":1017}},{"source":"src/index.js","name":"MeshPhongMaterial","original":{"line":73,"column":12},"generated":{"line":1,"column":1021}},{"source":"src/index.js","original":{"line":73,"column":29},"generated":{"line":1,"column":1023}},{"source":"src/index.js","original":{"line":73,"column":30},"generated":{"line":1,"column":1041}},{"source":"src/index.js","name":"color","original":{"line":74,"column":2},"generated":{"line":1,"column":1042}},{"source":"src/index.js","original":{"line":74,"column":9},"generated":{"line":1,"column":1048}},{"source":"src/index.js","name":"shininess","original":{"line":76,"column":2},"generated":{"line":1,"column":1057}},{"source":"src/index.js","original":{"line":76,"column":13},"generated":{"line":1,"column":1067}},{"source":"src/index.js","name":"onBeforeCompile","original":{"line":77,"column":2},"generated":{"line":1,"column":1069}},{"source":"src/index.js","original":{"line":77,"column":19},"generated":{"line":1,"column":1085}},{"source":"src/index.js","name":"shader","original":{"line":77,"column":20},"generated":{"line":1,"column":1094}},{"source":"src/index.js","name":"shader","original":{"line":78,"column":4},"generated":{"line":1,"column":1097}},{"source":"src/index.js","name":"uniforms","original":{"line":78,"column":11},"generated":{"line":1,"column":1099}},{"source":"src/index.js","name":"time","original":{"line":78,"column":20},"generated":{"line":1,"column":1108}},{"source":"src/index.js","name":"gu","original":{"line":78,"column":27},"generated":{"line":1,"column":1113}},{"source":"src/index.js","name":"time","original":{"line":78,"column":30},"generated":{"line":1,"column":1115}},{"source":"src/index.js","name":"shader","original":{"line":79,"column":4},"generated":{"line":1,"column":1120}},{"source":"src/index.js","name":"vertexShader","original":{"line":79,"column":11},"generated":{"line":1,"column":1122}},{"source":"src/index.js","original":{"line":79,"column":26},"generated":{"line":1,"column":1135}},{"source":"src/index.js","name":"noise","original":{"line":81,"column":8},"generated":{"line":1,"column":1173}},{"source":"src/index.js","name":"noise","original":{"line":81,"column":8},"generated":{"line":1,"column":1180}},{"source":"src/index.js","original":{"line":81,"column":13},"generated":{"line":1,"column":1182}},{"source":"src/index.js","name":"shader","original":{"line":92,"column":8},"generated":{"line":1,"column":1190}},{"source":"src/index.js","name":"shader","original":{"line":92,"column":8},"generated":{"line":1,"column":1472}},{"source":"src/index.js","name":"shader","original":{"line":92,"column":8},"generated":{"line":1,"column":1479}},{"source":"src/index.js","name":"vertexShader","original":{"line":92,"column":15},"generated":{"line":1,"column":1481}},{"source":"src/index.js","name":"replace","original":{"line":94,"column":7},"generated":{"line":1,"column":1494}},{"source":"src/index.js","name":"replace","original":{"line":94,"column":7},"generated":{"line":1,"column":1504}},{"source":"src/index.js","original":{"line":112,"column":7},"generated":{"line":1,"column":1512}},{"source":"src/index.js","original":{"line":112,"column":7},"generated":{"line":1,"column":1544}},{"source":"src/index.js","name":"replace","original":{"line":113,"column":7},"generated":{"line":1,"column":2244}},{"source":"src/index.js","original":{"line":118,"column":7},"generated":{"line":1,"column":2252}},{"source":"src/index.js","original":{"line":118,"column":7},"generated":{"line":1,"column":2278}},{"source":"src/index.js","name":"o","original":{"line":122,"column":4},"generated":{"line":1,"column":2343}},{"source":"src/index.js","original":{"line":122,"column":8},"generated":{"line":1,"column":2345}},{"source":"src/index.js","name":"Mesh","original":{"line":122,"column":12},"generated":{"line":1,"column":2349}},{"source":"src/index.js","original":{"line":122,"column":16},"generated":{"line":1,"column":2351}},{"source":"src/index.js","name":"g","original":{"line":122,"column":17},"generated":{"line":1,"column":2356}},{"source":"src/index.js","name":"m","original":{"line":122,"column":20},"generated":{"line":1,"column":2358}},{"source":"src/index.js","name":"scene","original":{"line":123,"column":0},"generated":{"line":1,"column":2361}},{"source":"src/index.js","name":"add","original":{"line":123,"column":6},"generated":{"line":1,"column":2363}},{"source":"src/index.js","name":"o","original":{"line":123,"column":10},"generated":{"line":1,"column":2367}},{"source":"src/index.js","original":{"line":125,"column":0},"generated":{"line":1,"column":2370}},{"source":"src/index.js","name":"currentRotationX","original":{"line":125,"column":4},"generated":{"line":1,"column":2374}},{"source":"src/index.js","original":{"line":125,"column":23},"generated":{"line":1,"column":2376}},{"source":"src/index.js","name":"currentRotationY","original":{"line":126,"column":4},"generated":{"line":1,"column":2378}},{"source":"src/index.js","original":{"line":126,"column":23},"generated":{"line":1,"column":2380}},{"source":"src/index.js","name":"targetRotationX","original":{"line":127,"column":4},"generated":{"line":1,"column":2382}},{"source":"src/index.js","original":{"line":127,"column":22},"generated":{"line":1,"column":2384}},{"source":"src/index.js","name":"targetRotationY","original":{"line":128,"column":4},"generated":{"line":1,"column":2386}},{"source":"src/index.js","original":{"line":128,"column":22},"generated":{"line":1,"column":2388}},{"source":"src/index.js","name":"throttledMouseMove","original":{"line":130,"column":6},"generated":{"line":1,"column":2390}},{"source":"src/index.js","name":"_","original":{"line":130,"column":27},"generated":{"line":1,"column":2392}},{"source":"src/index.js","original":{"line":130,"column":28},"generated":{"line":1,"column":2394}},{"source":"src/index.js","name":"throttle","original":{"line":130,"column":29},"generated":{"line":1,"column":2402}},{"source":"src/index.js","original":{"line":130,"column":38},"generated":{"line":1,"column":2411}},{"source":"src/index.js","name":"event","original":{"line":130,"column":48},"generated":{"line":1,"column":2420}},{"source":"src/index.js","name":"targetRotationX","original":{"line":131,"column":2},"generated":{"line":1,"column":2423}},{"source":"src/index.js","name":"event","original":{"line":131,"column":21},"generated":{"line":1,"column":2425}},{"source":"src/index.js","name":"clientX","original":{"line":131,"column":27},"generated":{"line":1,"column":2427}},{"source":"src/index.js","name":"window","original":{"line":131,"column":37},"generated":{"line":1,"column":2435}},{"source":"src/index.js","name":"innerWidth","original":{"line":131,"column":44},"generated":{"line":1,"column":2442}},{"source":"src/index.js","original":{"line":131,"column":58},"generated":{"line":1,"column":2453}},{"source":"src/index.js","name":"Math","original":{"line":131,"column":65},"generated":{"line":1,"column":2457}},{"source":"src/index.js","name":"PI","original":{"line":131,"column":70},"generated":{"line":1,"column":2462}},{"source":"src/index.js","name":"targetRotationY","original":{"line":132,"column":2},"generated":{"line":1,"column":2465}},{"source":"src/index.js","name":"event","original":{"line":132,"column":21},"generated":{"line":1,"column":2467}},{"source":"src/index.js","name":"clientY","original":{"line":132,"column":27},"generated":{"line":1,"column":2469}},{"source":"src/index.js","name":"window","original":{"line":132,"column":37},"generated":{"line":1,"column":2477}},{"source":"src/index.js","name":"innerWidth","original":{"line":132,"column":44},"generated":{"line":1,"column":2484}},{"source":"src/index.js","original":{"line":132,"column":58},"generated":{"line":1,"column":2495}},{"source":"src/index.js","name":"Math","original":{"line":132,"column":65},"generated":{"line":1,"column":2499}},{"source":"src/index.js","name":"PI","original":{"line":132,"column":70},"generated":{"line":1,"column":2504}},{"source":"src/index.js","original":{"line":133,"column":3},"generated":{"line":1,"column":2508}},{"source":"src/index.js","name":"document","original":{"line":135,"column":0},"generated":{"line":1,"column":2513}},{"source":"src/index.js","name":"addEventListener","original":{"line":135,"column":9},"generated":{"line":1,"column":2522}},{"source":"src/index.js","original":{"line":135,"column":26},"generated":{"line":1,"column":2539}},{"source":"src/index.js","name":"throttledMouseMove","original":{"line":135,"column":39},"generated":{"line":1,"column":2551}},{"source":"src/index.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2554}},{"source":"src/index.js","name":"clock","original":{"line":145,"column":4},"generated":{"line":1,"column":2558}},{"source":"src/index.js","original":{"line":145,"column":12},"generated":{"line":1,"column":2560}},{"source":"src/index.js","name":"Clock","original":{"line":145,"column":16},"generated":{"line":1,"column":2564}},{"source":"src/index.js","original":{"line":145,"column":21},"generated":{"line":1,"column":2566}},{"source":"src/index.js","name":"renderer","original":{"line":147,"column":0},"generated":{"line":1,"column":2572}},{"source":"src/index.js","name":"setAnimationLoop","original":{"line":147,"column":9},"generated":{"line":1,"column":2574}},{"source":"src/index.js","original":{"line":147,"column":26},"generated":{"line":1,"column":2591}},{"source":"src/index.js","name":"currentRotationX","original":{"line":149,"column":2},"generated":{"line":1,"column":2602}},{"source":"src/index.js","original":{"line":149,"column":61},"generated":{"line":1,"column":2605}},{"source":"src/index.js","name":"targetRotationX","original":{"line":149,"column":23},"generated":{"line":1,"column":2612}},{"source":"src/index.js","name":"currentRotationX","original":{"line":149,"column":41},"generated":{"line":1,"column":2614}},{"source":"src/index.js","name":"currentRotationY","original":{"line":150,"column":2},"generated":{"line":1,"column":2617}},{"source":"src/index.js","original":{"line":150,"column":61},"generated":{"line":1,"column":2620}},{"source":"src/index.js","name":"targetRotationY","original":{"line":150,"column":23},"generated":{"line":1,"column":2627}},{"source":"src/index.js","name":"currentRotationY","original":{"line":150,"column":41},"generated":{"line":1,"column":2629}},{"source":"src/index.js","name":"o","original":{"line":153,"column":2},"generated":{"line":1,"column":2632}},{"source":"src/index.js","name":"rotation","original":{"line":153,"column":4},"generated":{"line":1,"column":2634}},{"source":"src/index.js","name":"x","original":{"line":153,"column":13},"generated":{"line":1,"column":2643}},{"source":"src/index.js","name":"currentRotationY","original":{"line":153,"column":17},"generated":{"line":1,"column":2645}},{"source":"src/index.js","name":"o","original":{"line":154,"column":2},"generated":{"line":1,"column":2647}},{"source":"src/index.js","name":"rotation","original":{"line":154,"column":4},"generated":{"line":1,"column":2649}},{"source":"src/index.js","name":"y","original":{"line":154,"column":13},"generated":{"line":1,"column":2658}},{"source":"src/index.js","name":"currentRotationX","original":{"line":154,"column":17},"generated":{"line":1,"column":2660}},{"source":"src/index.js","original":{"line":157,"column":2},"generated":{"line":1,"column":2662}},{"source":"src/index.js","name":"t","original":{"line":157,"column":6},"generated":{"line":1,"column":2666}},{"source":"src/index.js","name":"clock","original":{"line":157,"column":10},"generated":{"line":1,"column":2668}},{"source":"src/index.js","name":"getElapsedTime","original":{"line":157,"column":16},"generated":{"line":1,"column":2670}},{"source":"src/index.js","name":"gu","original":{"line":158,"column":2},"generated":{"line":1,"column":2687}},{"source":"src/index.js","name":"time","original":{"line":158,"column":5},"generated":{"line":1,"column":2689}},{"source":"src/index.js","name":"value","original":{"line":158,"column":10},"generated":{"line":1,"column":2694}},{"source":"src/index.js","original":{"line":158,"column":22},"generated":{"line":1,"column":2700}},{"source":"src/index.js","name":"t","original":{"line":158,"column":18},"generated":{"line":1,"column":2704}},{"source":"src/index.js","name":"renderer","original":{"line":159,"column":2},"generated":{"line":1,"column":2706}},{"source":"src/index.js","name":"render","original":{"line":159,"column":11},"generated":{"line":1,"column":2708}},{"source":"src/index.js","name":"scene","original":{"line":159,"column":18},"generated":{"line":1,"column":2715}},{"source":"src/index.js","name":"camera","original":{"line":159,"column":25},"generated":{"line":1,"column":2717}}],"sources":{"src/index.js":"import \"./styles.css\";\nimport {\n  AmbientLight,\n  Clock,\n  // Color,\n  DirectionalLight,\n  HemisphereLight,\n  IcosahedronGeometry,\n  Mesh,\n  MeshPhongMaterial,\n  // MeshPhysicalMaterial,\n  PerspectiveCamera,\n  Scene,\n  WebGLRenderer\n  // Vector3\n} from \"three\";\n// import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { mergeVertices } from \"three/examples/jsm/utils/BufferGeometryUtils\";\nimport noise from \"../src/shaders/noise.glsl\";\nimport _ from \"lodash\";\n\nconsole.clear();\n\nlet scene = new Scene();\n// scene.background = new Color(1, 0, 1).multiplyScalar(0.125);\nconst container = document.getElementById( 'blob_canvas' );\n\nlet camera = new PerspectiveCamera(\n  60,\n  container.clientWidth / container.clientHeight,\n  1,\n  1000\n);\ncamera.position.set(0, 0, 10);\n\n\n\nlet renderer = new WebGLRenderer({\n  antialias: true,\n  alpha: true,\n  premultipliedAlpha: false\n});\nrenderer.setSize(container.clientWidth, container.clientHeight);\n// document.body.prepend(renderer.domElement);\ncontainer.appendChild( renderer.domElement );\n\n\nwindow.addEventListener(\"resize\", (event) => {\n  camera.aspect = container.clientWidth / container.clientHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(container.clientWidth, container.clientHeight);\n});\n\n// let controls = new OrbitControls(camera, renderer.domElement);\n// controls.enableDamping = true;\n// controls.enablePan = false;\n\nlet gu = {\n  time: { value: 0 }\n};\n\nlet light = new DirectionalLight(0xf1d8dd, 0.9);\nlight.position.setScalar(1);\nlet light2 = new HemisphereLight(0xf1d0d7, 0xf1d8dd, 0.475);\nscene.add(light, light2, new AmbientLight(0x404040, 0.44));\n\nlet g = new IcosahedronGeometry(1, 200);\ng.deleteAttribute(\"normal\");\ng.deleteAttribute(\"uv\");\ng = mergeVertices(g);\ng.computeVertexNormals();\n// console.log(g.attributes.position.count);\nlet m = new MeshPhongMaterial({\n  color: 0xd6dfbb,\n  // emissive: new Color(0xd6dfbb).multiplyScalar(0.05),\n  shininess: 1,\n  onBeforeCompile: (shader) => {\n    shader.uniforms.time = gu.time;\n    shader.vertexShader = `\n      uniform float time;\n      ${noise}\n      float noise(vec3 p){\n        float n = snoise(vec4(p, time));\n        n = sin(n * 3.1415926 * 8.);\n        n = n * 0.5 + 0.5;\n        n *= n;\n        return n;\n      }\n      vec3 getPos(vec3 p){\n        return p * (4. + noise(p * 0.875) * 0.25);\n      }\n      ${shader.vertexShader}\n    `\n      .replace(\n        `#include <beginnormal_vertex>`,\n        `#include <beginnormal_vertex>\n      \n        vec3 p0 = getPos(position);\n        \n        // https://stackoverflow.com/a/39296939/4045502\n        \n        float theta = .1; \n        vec3 vecTangent = normalize(cross(p0, vec3(1.0, 0.0, 0.0)) + cross(p0, vec3(0.0, 1.0, 0.0)));\n        vec3 vecBitangent = normalize(cross(vecTangent, p0));\n        vec3 ptTangentSample = getPos(normalize(p0 + theta * normalize(vecTangent)));\n        vec3 ptBitangentSample = getPos(normalize(p0 + theta * normalize(vecBitangent)));\n        \n        objectNormal = normalize(cross(ptBitangentSample - p0, ptTangentSample - p0));\n        \n        ///////////////////////////////////////////////\n      `\n      )\n      .replace(\n        `#include <begin_vertex>`,\n        `#include <begin_vertex>\n        transformed = p0;\n      `\n      );\n    //console.log(shader.vertexShader);\n  }\n});\nlet o = new Mesh(g, m);\nscene.add(o);\n\nlet currentRotationX = 0;\nlet currentRotationY = 0;\nlet targetRotationX = 0;\nlet targetRotationY = 0;\n\nconst throttledMouseMove = _.throttle(function (event) {\n  targetRotationX = (event.clientX / window.innerWidth) * 0.76 * Math.PI;\n  targetRotationY = (event.clientY / window.innerWidth) * 0.46 * Math.PI;\n}, 100);\n\ndocument.addEventListener(\"mousemove\", throttledMouseMove);\n\n// document.addEventListener(\n//   \"mousemove\",\n//   function (event) {\n//     targetRotation = (event.clientX / window.innerWidth) * 2 * Math.PI;\n//   },\n//   false\n// );\n\nlet clock = new Clock();\n\nrenderer.setAnimationLoop(() => {\n  // Update the current rotation towards the target rotation\n  currentRotationX += (targetRotationX - currentRotationX) * 0.0342;\n  currentRotationY += (targetRotationY - currentRotationY) * 0.0342;\n\n  // Apply the rotation to the sphere\n  o.rotation.x = currentRotationY;\n  o.rotation.y = currentRotationX;\n\n  // controls.update();\n  let t = clock.getElapsedTime();\n  gu.time.value = t * 0.17;\n  renderer.render(scene, camera);\n});\n"},"lineCount":null}},"error":null,"hash":"4f1418c0c26c4aa5d6e634bb2572e1f2","cacheData":{"env":{}}}