{"id":"H99C","dependencies":[{"name":"/workspaces/blob-noise/package.json","includedInParent":true,"mtime":1675033296209},{"name":"./styles.css","loc":{"line":1,"column":7,"index":7},"parent":"/workspaces/blob-noise/src/index.js","resolved":"/workspaces/blob-noise/src/styles.css"},{"name":"three","loc":{"line":16,"column":7,"index":253},"parent":"/workspaces/blob-noise/src/index.js","resolved":"/workspaces/blob-noise/node_modules/three/build/three.module.js"},{"name":"three/examples/jsm/utils/BufferGeometryUtils","loc":{"line":18,"column":30,"index":370},"parent":"/workspaces/blob-noise/src/index.js","resolved":"/workspaces/blob-noise/node_modules/three/examples/jsm/utils/BufferGeometryUtils.js"},{"name":"../src/shaders/noise.glsl","loc":{"line":19,"column":18,"index":436},"parent":"/workspaces/blob-noise/src/index.js","resolved":"/workspaces/blob-noise/src/shaders/noise.glsl"},{"name":"lodash","loc":{"line":20,"column":14,"index":479},"parent":"/workspaces/blob-noise/src/index.js","resolved":"/workspaces/blob-noise/node_modules/lodash/lodash.js"}],"generated":{"js":"\"use strict\";require(\"./styles.css\");var e=require(\"three\"),n=require(\"three/examples/jsm/utils/BufferGeometryUtils\"),t=r(require(\"../src/shaders/noise.glsl\")),i=r(require(\"lodash\"));function r(e){return e&&e.__esModule?e:{default:e}}console.clear();var o=new e.Scene,a=new e.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e3);a.position.set(0,0,10);var s=new e.WebGLRenderer({antialias:!0,alpha:!0,premultipliedAlpha:!1});s.setSize(window.innerWidth,window.innerHeight),document.body.prepend(s.domElement),window.addEventListener(\"resize\",function(e){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)});var l={time:{value:0}},c=new e.DirectionalLight(15849693,.9);c.position.setScalar(1);var d=new e.HemisphereLight(15847639,15849693,.475);o.add(c,d,new e.AmbientLight(4210752,.44));var m=new e.IcosahedronGeometry(1,200);m.deleteAttribute(\"normal\"),m.deleteAttribute(\"uv\"),(m=(0,n.mergeVertices)(m)).computeVertexNormals();var p=new e.MeshPhongMaterial({color:14081979,shininess:1,onBeforeCompile:function(e){e.uniforms.time=l.time,e.vertexShader=\"\\n      uniform float time;\\n      \".concat(t.default,\"\\n      float noise(vec3 p){\\n        float n = snoise(vec4(p, time));\\n        n = sin(n * 3.1415926 * 8.);\\n        n = n * 0.5 + 0.5;\\n        n *= n;\\n        return n;\\n      }\\n      vec3 getPos(vec3 p){\\n        return p * (4. + noise(p * 0.875) * 0.25);\\n      }\\n      \").concat(e.vertexShader,\"\\n    \").replace(\"#include <beginnormal_vertex>\",\"#include <beginnormal_vertex>\\n      \\n        vec3 p0 = getPos(position);\\n        \\n        // https://stackoverflow.com/a/39296939/4045502\\n        \\n        float theta = .1; \\n        vec3 vecTangent = normalize(cross(p0, vec3(1.0, 0.0, 0.0)) + cross(p0, vec3(0.0, 1.0, 0.0)));\\n        vec3 vecBitangent = normalize(cross(vecTangent, p0));\\n        vec3 ptTangentSample = getPos(normalize(p0 + theta * normalize(vecTangent)));\\n        vec3 ptBitangentSample = getPos(normalize(p0 + theta * normalize(vecBitangent)));\\n        \\n        objectNormal = normalize(cross(ptBitangentSample - p0, ptTangentSample - p0));\\n        \\n        ///////////////////////////////////////////////\\n      \").replace(\"#include <begin_vertex>\",\"#include <begin_vertex>\\n        transformed = p0;\\n      \")}}),v=new e.Mesh(m,p);o.add(v);var u=0,h=0,w=0,g=0,f=i.default.throttle(function(e){w=e.clientX/window.innerWidth*.76*Math.PI,g=e.clientY/window.innerWidth*.46*Math.PI},100);document.addEventListener(\"mousemove\",f);var b=new e.Clock;s.setAnimationLoop(function(){u+=.0342*(w-u),h+=.0342*(g-h),v.rotation.x=h,v.rotation.y=u;var e=b.getElapsedTime();l.time.value=.17*e,s.render(o,a)});"},"sourceMaps":{"js":{"mappings":[{"source":"src/index.js","original":{"line":152,"column":2},"generated":{"line":1,"column":0}},{"source":"src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":37}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":41}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"src/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":51}},{"source":"src/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":60}},{"source":"src/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":62}},{"source":"src/index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":70}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":118}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":120}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":122}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":130}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":160}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":162}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":164}},{"source":"src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":172}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":183}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":192}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":194}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":197}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":204}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":207}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":209}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":220}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":222}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":223}},{"source":"src/index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":231}},{"source":"src/index.js","name":"console","original":{"line":22,"column":0},"generated":{"line":1,"column":234}},{"source":"src/index.js","name":"clear","original":{"line":22,"column":8},"generated":{"line":1,"column":242}},{"source":"src/index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":250}},{"source":"src/index.js","name":"scene","original":{"line":24,"column":4},"generated":{"line":1,"column":254}},{"source":"src/index.js","original":{"line":24,"column":12},"generated":{"line":1,"column":256}},{"source":"src/index.js","name":"Scene","original":{"line":24,"column":16},"generated":{"line":1,"column":260}},{"source":"src/index.js","original":{"line":24,"column":21},"generated":{"line":1,"column":262}},{"source":"src/index.js","name":"camera","original":{"line":26,"column":4},"generated":{"line":1,"column":268}},{"source":"src/index.js","original":{"line":26,"column":13},"generated":{"line":1,"column":270}},{"source":"src/index.js","name":"PerspectiveCamera","original":{"line":26,"column":17},"generated":{"line":1,"column":274}},{"source":"src/index.js","original":{"line":26,"column":34},"generated":{"line":1,"column":276}},{"source":"src/index.js","original":{"line":27,"column":2},"generated":{"line":1,"column":294}},{"source":"src/index.js","name":"window","original":{"line":28,"column":2},"generated":{"line":1,"column":297}},{"source":"src/index.js","name":"innerWidth","original":{"line":28,"column":9},"generated":{"line":1,"column":304}},{"source":"src/index.js","name":"window","original":{"line":28,"column":22},"generated":{"line":1,"column":315}},{"source":"src/index.js","name":"innerHeight","original":{"line":28,"column":29},"generated":{"line":1,"column":322}},{"source":"src/index.js","original":{"line":29,"column":2},"generated":{"line":1,"column":334}},{"source":"src/index.js","original":{"line":30,"column":2},"generated":{"line":1,"column":336}},{"source":"src/index.js","name":"camera","original":{"line":32,"column":0},"generated":{"line":1,"column":341}},{"source":"src/index.js","name":"position","original":{"line":32,"column":7},"generated":{"line":1,"column":343}},{"source":"src/index.js","name":"set","original":{"line":32,"column":16},"generated":{"line":1,"column":352}},{"source":"src/index.js","original":{"line":32,"column":20},"generated":{"line":1,"column":356}},{"source":"src/index.js","original":{"line":32,"column":23},"generated":{"line":1,"column":358}},{"source":"src/index.js","original":{"line":32,"column":26},"generated":{"line":1,"column":360}},{"source":"src/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":364}},{"source":"src/index.js","name":"renderer","original":{"line":33,"column":4},"generated":{"line":1,"column":368}},{"source":"src/index.js","original":{"line":33,"column":15},"generated":{"line":1,"column":370}},{"source":"src/index.js","name":"WebGLRenderer","original":{"line":33,"column":19},"generated":{"line":1,"column":374}},{"source":"src/index.js","original":{"line":33,"column":32},"generated":{"line":1,"column":376}},{"source":"src/index.js","original":{"line":33,"column":33},"generated":{"line":1,"column":390}},{"source":"src/index.js","name":"antialias","original":{"line":34,"column":2},"generated":{"line":1,"column":391}},{"source":"src/index.js","original":{"line":34,"column":13},"generated":{"line":1,"column":402}},{"source":"src/index.js","name":"alpha","original":{"line":35,"column":2},"generated":{"line":1,"column":404}},{"source":"src/index.js","original":{"line":35,"column":9},"generated":{"line":1,"column":411}},{"source":"src/index.js","name":"premultipliedAlpha","original":{"line":36,"column":2},"generated":{"line":1,"column":413}},{"source":"src/index.js","original":{"line":36,"column":22},"generated":{"line":1,"column":433}},{"source":"src/index.js","name":"renderer","original":{"line":38,"column":0},"generated":{"line":1,"column":437}},{"source":"src/index.js","name":"setSize","original":{"line":38,"column":9},"generated":{"line":1,"column":439}},{"source":"src/index.js","name":"window","original":{"line":38,"column":17},"generated":{"line":1,"column":447}},{"source":"src/index.js","name":"innerWidth","original":{"line":38,"column":24},"generated":{"line":1,"column":454}},{"source":"src/index.js","name":"window","original":{"line":38,"column":36},"generated":{"line":1,"column":465}},{"source":"src/index.js","name":"innerHeight","original":{"line":38,"column":43},"generated":{"line":1,"column":472}},{"source":"src/index.js","name":"document","original":{"line":39,"column":0},"generated":{"line":1,"column":485}},{"source":"src/index.js","name":"body","original":{"line":39,"column":9},"generated":{"line":1,"column":494}},{"source":"src/index.js","name":"prepend","original":{"line":39,"column":14},"generated":{"line":1,"column":499}},{"source":"src/index.js","name":"renderer","original":{"line":39,"column":22},"generated":{"line":1,"column":507}},{"source":"src/index.js","name":"domElement","original":{"line":39,"column":31},"generated":{"line":1,"column":509}},{"source":"src/index.js","name":"window","original":{"line":40,"column":0},"generated":{"line":1,"column":521}},{"source":"src/index.js","name":"addEventListener","original":{"line":40,"column":7},"generated":{"line":1,"column":528}},{"source":"src/index.js","original":{"line":40,"column":24},"generated":{"line":1,"column":545}},{"source":"src/index.js","original":{"line":40,"column":34},"generated":{"line":1,"column":554}},{"source":"src/index.js","name":"event","original":{"line":40,"column":35},"generated":{"line":1,"column":563}},{"source":"src/index.js","name":"camera","original":{"line":41,"column":2},"generated":{"line":1,"column":566}},{"source":"src/index.js","name":"aspect","original":{"line":41,"column":9},"generated":{"line":1,"column":568}},{"source":"src/index.js","name":"window","original":{"line":41,"column":18},"generated":{"line":1,"column":575}},{"source":"src/index.js","name":"innerWidth","original":{"line":41,"column":25},"generated":{"line":1,"column":582}},{"source":"src/index.js","name":"window","original":{"line":41,"column":38},"generated":{"line":1,"column":593}},{"source":"src/index.js","name":"innerHeight","original":{"line":41,"column":45},"generated":{"line":1,"column":600}},{"source":"src/index.js","name":"camera","original":{"line":42,"column":2},"generated":{"line":1,"column":612}},{"source":"src/index.js","name":"updateProjectionMatrix","original":{"line":42,"column":9},"generated":{"line":1,"column":614}},{"source":"src/index.js","name":"renderer","original":{"line":43,"column":2},"generated":{"line":1,"column":639}},{"source":"src/index.js","name":"setSize","original":{"line":43,"column":11},"generated":{"line":1,"column":641}},{"source":"src/index.js","name":"window","original":{"line":43,"column":19},"generated":{"line":1,"column":649}},{"source":"src/index.js","name":"innerWidth","original":{"line":43,"column":26},"generated":{"line":1,"column":656}},{"source":"src/index.js","name":"window","original":{"line":43,"column":38},"generated":{"line":1,"column":667}},{"source":"src/index.js","name":"innerHeight","original":{"line":43,"column":45},"generated":{"line":1,"column":674}},{"source":"src/index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":689}},{"source":"src/index.js","name":"gu","original":{"line":50,"column":4},"generated":{"line":1,"column":693}},{"source":"src/index.js","original":{"line":50,"column":9},"generated":{"line":1,"column":695}},{"source":"src/index.js","name":"time","original":{"line":51,"column":2},"generated":{"line":1,"column":696}},{"source":"src/index.js","original":{"line":51,"column":8},"generated":{"line":1,"column":701}},{"source":"src/index.js","name":"value","original":{"line":51,"column":10},"generated":{"line":1,"column":702}},{"source":"src/index.js","original":{"line":51,"column":17},"generated":{"line":1,"column":708}},{"source":"src/index.js","name":"light","original":{"line":54,"column":4},"generated":{"line":1,"column":712}},{"source":"src/index.js","original":{"line":54,"column":12},"generated":{"line":1,"column":714}},{"source":"src/index.js","name":"DirectionalLight","original":{"line":54,"column":16},"generated":{"line":1,"column":718}},{"source":"src/index.js","original":{"line":54,"column":32},"generated":{"line":1,"column":720}},{"source":"src/index.js","original":{"line":54,"column":33},"generated":{"line":1,"column":737}},{"source":"src/index.js","original":{"line":54,"column":43},"generated":{"line":1,"column":746}},{"source":"src/index.js","name":"light","original":{"line":55,"column":0},"generated":{"line":1,"column":750}},{"source":"src/index.js","name":"position","original":{"line":55,"column":6},"generated":{"line":1,"column":752}},{"source":"src/index.js","name":"setScalar","original":{"line":55,"column":15},"generated":{"line":1,"column":761}},{"source":"src/index.js","original":{"line":55,"column":25},"generated":{"line":1,"column":771}},{"source":"src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":774}},{"source":"src/index.js","name":"light2","original":{"line":56,"column":4},"generated":{"line":1,"column":778}},{"source":"src/index.js","original":{"line":56,"column":13},"generated":{"line":1,"column":780}},{"source":"src/index.js","name":"HemisphereLight","original":{"line":56,"column":17},"generated":{"line":1,"column":784}},{"source":"src/index.js","original":{"line":56,"column":32},"generated":{"line":1,"column":786}},{"source":"src/index.js","original":{"line":56,"column":33},"generated":{"line":1,"column":802}},{"source":"src/index.js","original":{"line":56,"column":43},"generated":{"line":1,"column":811}},{"source":"src/index.js","original":{"line":56,"column":53},"generated":{"line":1,"column":820}},{"source":"src/index.js","name":"scene","original":{"line":57,"column":0},"generated":{"line":1,"column":826}},{"source":"src/index.js","name":"add","original":{"line":57,"column":6},"generated":{"line":1,"column":828}},{"source":"src/index.js","name":"light","original":{"line":57,"column":10},"generated":{"line":1,"column":832}},{"source":"src/index.js","name":"light2","original":{"line":57,"column":17},"generated":{"line":1,"column":834}},{"source":"src/index.js","original":{"line":57,"column":25},"generated":{"line":1,"column":836}},{"source":"src/index.js","name":"AmbientLight","original":{"line":57,"column":29},"generated":{"line":1,"column":840}},{"source":"src/index.js","original":{"line":57,"column":41},"generated":{"line":1,"column":842}},{"source":"src/index.js","original":{"line":57,"column":42},"generated":{"line":1,"column":855}},{"source":"src/index.js","original":{"line":57,"column":52},"generated":{"line":1,"column":863}},{"source":"src/index.js","original":{"line":59,"column":0},"generated":{"line":1,"column":869}},{"source":"src/index.js","name":"g","original":{"line":59,"column":4},"generated":{"line":1,"column":873}},{"source":"src/index.js","original":{"line":59,"column":8},"generated":{"line":1,"column":875}},{"source":"src/index.js","name":"IcosahedronGeometry","original":{"line":59,"column":12},"generated":{"line":1,"column":879}},{"source":"src/index.js","original":{"line":59,"column":31},"generated":{"line":1,"column":881}},{"source":"src/index.js","original":{"line":59,"column":32},"generated":{"line":1,"column":901}},{"source":"src/index.js","original":{"line":59,"column":35},"generated":{"line":1,"column":903}},{"source":"src/index.js","name":"g","original":{"line":60,"column":0},"generated":{"line":1,"column":908}},{"source":"src/index.js","name":"deleteAttribute","original":{"line":60,"column":2},"generated":{"line":1,"column":910}},{"source":"src/index.js","original":{"line":60,"column":18},"generated":{"line":1,"column":926}},{"source":"src/index.js","name":"g","original":{"line":61,"column":0},"generated":{"line":1,"column":936}},{"source":"src/index.js","name":"deleteAttribute","original":{"line":61,"column":2},"generated":{"line":1,"column":938}},{"source":"src/index.js","original":{"line":61,"column":18},"generated":{"line":1,"column":954}},{"source":"src/index.js","name":"g","original":{"line":62,"column":0},"generated":{"line":1,"column":961}},{"source":"src/index.js","original":{"line":62,"column":4},"generated":{"line":1,"column":964}},{"source":"src/index.js","name":"mergeVertices","original":{"line":62,"column":4},"generated":{"line":1,"column":966}},{"source":"src/index.js","original":{"line":62,"column":17},"generated":{"line":1,"column":968}},{"source":"src/index.js","name":"g","original":{"line":62,"column":18},"generated":{"line":1,"column":983}},{"source":"src/index.js","name":"computeVertexNormals","original":{"line":63,"column":2},"generated":{"line":1,"column":987}},{"source":"src/index.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1010}},{"source":"src/index.js","name":"m","original":{"line":65,"column":4},"generated":{"line":1,"column":1014}},{"source":"src/index.js","original":{"line":65,"column":8},"generated":{"line":1,"column":1016}},{"source":"src/index.js","name":"MeshPhongMaterial","original":{"line":65,"column":12},"generated":{"line":1,"column":1020}},{"source":"src/index.js","original":{"line":65,"column":29},"generated":{"line":1,"column":1022}},{"source":"src/index.js","original":{"line":65,"column":30},"generated":{"line":1,"column":1040}},{"source":"src/index.js","name":"color","original":{"line":66,"column":2},"generated":{"line":1,"column":1041}},{"source":"src/index.js","original":{"line":66,"column":9},"generated":{"line":1,"column":1047}},{"source":"src/index.js","name":"shininess","original":{"line":68,"column":2},"generated":{"line":1,"column":1056}},{"source":"src/index.js","original":{"line":68,"column":13},"generated":{"line":1,"column":1066}},{"source":"src/index.js","name":"onBeforeCompile","original":{"line":69,"column":2},"generated":{"line":1,"column":1068}},{"source":"src/index.js","original":{"line":69,"column":19},"generated":{"line":1,"column":1084}},{"source":"src/index.js","name":"shader","original":{"line":69,"column":20},"generated":{"line":1,"column":1093}},{"source":"src/index.js","name":"shader","original":{"line":70,"column":4},"generated":{"line":1,"column":1096}},{"source":"src/index.js","name":"uniforms","original":{"line":70,"column":11},"generated":{"line":1,"column":1098}},{"source":"src/index.js","name":"time","original":{"line":70,"column":20},"generated":{"line":1,"column":1107}},{"source":"src/index.js","name":"gu","original":{"line":70,"column":27},"generated":{"line":1,"column":1112}},{"source":"src/index.js","name":"time","original":{"line":70,"column":30},"generated":{"line":1,"column":1114}},{"source":"src/index.js","name":"shader","original":{"line":71,"column":4},"generated":{"line":1,"column":1119}},{"source":"src/index.js","name":"vertexShader","original":{"line":71,"column":11},"generated":{"line":1,"column":1121}},{"source":"src/index.js","original":{"line":71,"column":26},"generated":{"line":1,"column":1134}},{"source":"src/index.js","name":"noise","original":{"line":73,"column":8},"generated":{"line":1,"column":1172}},{"source":"src/index.js","name":"noise","original":{"line":73,"column":8},"generated":{"line":1,"column":1179}},{"source":"src/index.js","original":{"line":73,"column":13},"generated":{"line":1,"column":1181}},{"source":"src/index.js","name":"shader","original":{"line":84,"column":8},"generated":{"line":1,"column":1189}},{"source":"src/index.js","name":"shader","original":{"line":84,"column":8},"generated":{"line":1,"column":1471}},{"source":"src/index.js","name":"shader","original":{"line":84,"column":8},"generated":{"line":1,"column":1478}},{"source":"src/index.js","name":"vertexShader","original":{"line":84,"column":15},"generated":{"line":1,"column":1480}},{"source":"src/index.js","name":"replace","original":{"line":86,"column":7},"generated":{"line":1,"column":1493}},{"source":"src/index.js","name":"replace","original":{"line":86,"column":7},"generated":{"line":1,"column":1503}},{"source":"src/index.js","original":{"line":104,"column":7},"generated":{"line":1,"column":1511}},{"source":"src/index.js","original":{"line":104,"column":7},"generated":{"line":1,"column":1543}},{"source":"src/index.js","name":"replace","original":{"line":105,"column":7},"generated":{"line":1,"column":2243}},{"source":"src/index.js","original":{"line":110,"column":7},"generated":{"line":1,"column":2251}},{"source":"src/index.js","original":{"line":110,"column":7},"generated":{"line":1,"column":2277}},{"source":"src/index.js","name":"o","original":{"line":114,"column":4},"generated":{"line":1,"column":2342}},{"source":"src/index.js","original":{"line":114,"column":8},"generated":{"line":1,"column":2344}},{"source":"src/index.js","name":"Mesh","original":{"line":114,"column":12},"generated":{"line":1,"column":2348}},{"source":"src/index.js","original":{"line":114,"column":16},"generated":{"line":1,"column":2350}},{"source":"src/index.js","name":"g","original":{"line":114,"column":17},"generated":{"line":1,"column":2355}},{"source":"src/index.js","name":"m","original":{"line":114,"column":20},"generated":{"line":1,"column":2357}},{"source":"src/index.js","name":"scene","original":{"line":115,"column":0},"generated":{"line":1,"column":2360}},{"source":"src/index.js","name":"add","original":{"line":115,"column":6},"generated":{"line":1,"column":2362}},{"source":"src/index.js","name":"o","original":{"line":115,"column":10},"generated":{"line":1,"column":2366}},{"source":"src/index.js","original":{"line":117,"column":0},"generated":{"line":1,"column":2369}},{"source":"src/index.js","name":"currentRotationX","original":{"line":117,"column":4},"generated":{"line":1,"column":2373}},{"source":"src/index.js","original":{"line":117,"column":23},"generated":{"line":1,"column":2375}},{"source":"src/index.js","name":"currentRotationY","original":{"line":118,"column":4},"generated":{"line":1,"column":2377}},{"source":"src/index.js","original":{"line":118,"column":23},"generated":{"line":1,"column":2379}},{"source":"src/index.js","name":"targetRotationX","original":{"line":119,"column":4},"generated":{"line":1,"column":2381}},{"source":"src/index.js","original":{"line":119,"column":22},"generated":{"line":1,"column":2383}},{"source":"src/index.js","name":"targetRotationY","original":{"line":120,"column":4},"generated":{"line":1,"column":2385}},{"source":"src/index.js","original":{"line":120,"column":22},"generated":{"line":1,"column":2387}},{"source":"src/index.js","name":"throttledMouseMove","original":{"line":122,"column":6},"generated":{"line":1,"column":2389}},{"source":"src/index.js","name":"_","original":{"line":122,"column":27},"generated":{"line":1,"column":2391}},{"source":"src/index.js","original":{"line":122,"column":28},"generated":{"line":1,"column":2393}},{"source":"src/index.js","name":"throttle","original":{"line":122,"column":29},"generated":{"line":1,"column":2401}},{"source":"src/index.js","original":{"line":122,"column":38},"generated":{"line":1,"column":2410}},{"source":"src/index.js","name":"event","original":{"line":122,"column":48},"generated":{"line":1,"column":2419}},{"source":"src/index.js","name":"targetRotationX","original":{"line":123,"column":2},"generated":{"line":1,"column":2422}},{"source":"src/index.js","name":"event","original":{"line":123,"column":21},"generated":{"line":1,"column":2424}},{"source":"src/index.js","name":"clientX","original":{"line":123,"column":27},"generated":{"line":1,"column":2426}},{"source":"src/index.js","name":"window","original":{"line":123,"column":37},"generated":{"line":1,"column":2434}},{"source":"src/index.js","name":"innerWidth","original":{"line":123,"column":44},"generated":{"line":1,"column":2441}},{"source":"src/index.js","original":{"line":123,"column":58},"generated":{"line":1,"column":2452}},{"source":"src/index.js","name":"Math","original":{"line":123,"column":65},"generated":{"line":1,"column":2456}},{"source":"src/index.js","name":"PI","original":{"line":123,"column":70},"generated":{"line":1,"column":2461}},{"source":"src/index.js","name":"targetRotationY","original":{"line":124,"column":2},"generated":{"line":1,"column":2464}},{"source":"src/index.js","name":"event","original":{"line":124,"column":21},"generated":{"line":1,"column":2466}},{"source":"src/index.js","name":"clientY","original":{"line":124,"column":27},"generated":{"line":1,"column":2468}},{"source":"src/index.js","name":"window","original":{"line":124,"column":37},"generated":{"line":1,"column":2476}},{"source":"src/index.js","name":"innerWidth","original":{"line":124,"column":44},"generated":{"line":1,"column":2483}},{"source":"src/index.js","original":{"line":124,"column":58},"generated":{"line":1,"column":2494}},{"source":"src/index.js","name":"Math","original":{"line":124,"column":65},"generated":{"line":1,"column":2498}},{"source":"src/index.js","name":"PI","original":{"line":124,"column":70},"generated":{"line":1,"column":2503}},{"source":"src/index.js","original":{"line":125,"column":3},"generated":{"line":1,"column":2507}},{"source":"src/index.js","name":"document","original":{"line":127,"column":0},"generated":{"line":1,"column":2512}},{"source":"src/index.js","name":"addEventListener","original":{"line":127,"column":9},"generated":{"line":1,"column":2521}},{"source":"src/index.js","original":{"line":127,"column":26},"generated":{"line":1,"column":2538}},{"source":"src/index.js","name":"throttledMouseMove","original":{"line":127,"column":39},"generated":{"line":1,"column":2550}},{"source":"src/index.js","original":{"line":137,"column":0},"generated":{"line":1,"column":2553}},{"source":"src/index.js","name":"clock","original":{"line":137,"column":4},"generated":{"line":1,"column":2557}},{"source":"src/index.js","original":{"line":137,"column":12},"generated":{"line":1,"column":2559}},{"source":"src/index.js","name":"Clock","original":{"line":137,"column":16},"generated":{"line":1,"column":2563}},{"source":"src/index.js","original":{"line":137,"column":21},"generated":{"line":1,"column":2565}},{"source":"src/index.js","name":"renderer","original":{"line":139,"column":0},"generated":{"line":1,"column":2571}},{"source":"src/index.js","name":"setAnimationLoop","original":{"line":139,"column":9},"generated":{"line":1,"column":2573}},{"source":"src/index.js","original":{"line":139,"column":26},"generated":{"line":1,"column":2590}},{"source":"src/index.js","name":"currentRotationX","original":{"line":141,"column":2},"generated":{"line":1,"column":2601}},{"source":"src/index.js","original":{"line":141,"column":61},"generated":{"line":1,"column":2604}},{"source":"src/index.js","name":"targetRotationX","original":{"line":141,"column":23},"generated":{"line":1,"column":2611}},{"source":"src/index.js","name":"currentRotationX","original":{"line":141,"column":41},"generated":{"line":1,"column":2613}},{"source":"src/index.js","name":"currentRotationY","original":{"line":142,"column":2},"generated":{"line":1,"column":2616}},{"source":"src/index.js","original":{"line":142,"column":61},"generated":{"line":1,"column":2619}},{"source":"src/index.js","name":"targetRotationY","original":{"line":142,"column":23},"generated":{"line":1,"column":2626}},{"source":"src/index.js","name":"currentRotationY","original":{"line":142,"column":41},"generated":{"line":1,"column":2628}},{"source":"src/index.js","name":"o","original":{"line":145,"column":2},"generated":{"line":1,"column":2631}},{"source":"src/index.js","name":"rotation","original":{"line":145,"column":4},"generated":{"line":1,"column":2633}},{"source":"src/index.js","name":"x","original":{"line":145,"column":13},"generated":{"line":1,"column":2642}},{"source":"src/index.js","name":"currentRotationY","original":{"line":145,"column":17},"generated":{"line":1,"column":2644}},{"source":"src/index.js","name":"o","original":{"line":146,"column":2},"generated":{"line":1,"column":2646}},{"source":"src/index.js","name":"rotation","original":{"line":146,"column":4},"generated":{"line":1,"column":2648}},{"source":"src/index.js","name":"y","original":{"line":146,"column":13},"generated":{"line":1,"column":2657}},{"source":"src/index.js","name":"currentRotationX","original":{"line":146,"column":17},"generated":{"line":1,"column":2659}},{"source":"src/index.js","original":{"line":149,"column":2},"generated":{"line":1,"column":2661}},{"source":"src/index.js","name":"t","original":{"line":149,"column":6},"generated":{"line":1,"column":2665}},{"source":"src/index.js","name":"clock","original":{"line":149,"column":10},"generated":{"line":1,"column":2667}},{"source":"src/index.js","name":"getElapsedTime","original":{"line":149,"column":16},"generated":{"line":1,"column":2669}},{"source":"src/index.js","name":"gu","original":{"line":150,"column":2},"generated":{"line":1,"column":2686}},{"source":"src/index.js","name":"time","original":{"line":150,"column":5},"generated":{"line":1,"column":2688}},{"source":"src/index.js","name":"value","original":{"line":150,"column":10},"generated":{"line":1,"column":2693}},{"source":"src/index.js","original":{"line":150,"column":22},"generated":{"line":1,"column":2699}},{"source":"src/index.js","name":"t","original":{"line":150,"column":18},"generated":{"line":1,"column":2703}},{"source":"src/index.js","name":"renderer","original":{"line":151,"column":2},"generated":{"line":1,"column":2705}},{"source":"src/index.js","name":"render","original":{"line":151,"column":11},"generated":{"line":1,"column":2707}},{"source":"src/index.js","name":"scene","original":{"line":151,"column":18},"generated":{"line":1,"column":2714}},{"source":"src/index.js","name":"camera","original":{"line":151,"column":25},"generated":{"line":1,"column":2716}}],"sources":{"src/index.js":"import \"./styles.css\";\nimport {\n  AmbientLight,\n  Clock,\n  // Color,\n  DirectionalLight,\n  HemisphereLight,\n  IcosahedronGeometry,\n  Mesh,\n  MeshPhongMaterial,\n  // MeshPhysicalMaterial,\n  PerspectiveCamera,\n  Scene,\n  WebGLRenderer\n  // Vector3\n} from \"three\";\n// import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { mergeVertices } from \"three/examples/jsm/utils/BufferGeometryUtils\";\nimport noise from \"../src/shaders/noise.glsl\";\nimport _ from \"lodash\";\n\nconsole.clear();\n\nlet scene = new Scene();\n// scene.background = new Color(1, 0, 1).multiplyScalar(0.125);\nlet camera = new PerspectiveCamera(\n  60,\n  window.innerWidth / window.innerHeight,\n  1,\n  1000\n);\ncamera.position.set(0, 0, 10);\nlet renderer = new WebGLRenderer({\n  antialias: true,\n  alpha: true,\n  premultipliedAlpha: false\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.prepend(renderer.domElement);\nwindow.addEventListener(\"resize\", (event) => {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n});\n\n// let controls = new OrbitControls(camera, renderer.domElement);\n// controls.enableDamping = true;\n// controls.enablePan = false;\n\nlet gu = {\n  time: { value: 0 }\n};\n\nlet light = new DirectionalLight(0xf1d8dd, 0.9);\nlight.position.setScalar(1);\nlet light2 = new HemisphereLight(0xf1d0d7, 0xf1d8dd, 0.475);\nscene.add(light, light2, new AmbientLight(0x404040, 0.44));\n\nlet g = new IcosahedronGeometry(1, 200);\ng.deleteAttribute(\"normal\");\ng.deleteAttribute(\"uv\");\ng = mergeVertices(g);\ng.computeVertexNormals();\n// console.log(g.attributes.position.count);\nlet m = new MeshPhongMaterial({\n  color: 0xd6dfbb,\n  // emissive: new Color(0xd6dfbb).multiplyScalar(0.05),\n  shininess: 1,\n  onBeforeCompile: (shader) => {\n    shader.uniforms.time = gu.time;\n    shader.vertexShader = `\n      uniform float time;\n      ${noise}\n      float noise(vec3 p){\n        float n = snoise(vec4(p, time));\n        n = sin(n * 3.1415926 * 8.);\n        n = n * 0.5 + 0.5;\n        n *= n;\n        return n;\n      }\n      vec3 getPos(vec3 p){\n        return p * (4. + noise(p * 0.875) * 0.25);\n      }\n      ${shader.vertexShader}\n    `\n      .replace(\n        `#include <beginnormal_vertex>`,\n        `#include <beginnormal_vertex>\n      \n        vec3 p0 = getPos(position);\n        \n        // https://stackoverflow.com/a/39296939/4045502\n        \n        float theta = .1; \n        vec3 vecTangent = normalize(cross(p0, vec3(1.0, 0.0, 0.0)) + cross(p0, vec3(0.0, 1.0, 0.0)));\n        vec3 vecBitangent = normalize(cross(vecTangent, p0));\n        vec3 ptTangentSample = getPos(normalize(p0 + theta * normalize(vecTangent)));\n        vec3 ptBitangentSample = getPos(normalize(p0 + theta * normalize(vecBitangent)));\n        \n        objectNormal = normalize(cross(ptBitangentSample - p0, ptTangentSample - p0));\n        \n        ///////////////////////////////////////////////\n      `\n      )\n      .replace(\n        `#include <begin_vertex>`,\n        `#include <begin_vertex>\n        transformed = p0;\n      `\n      );\n    //console.log(shader.vertexShader);\n  }\n});\nlet o = new Mesh(g, m);\nscene.add(o);\n\nlet currentRotationX = 0;\nlet currentRotationY = 0;\nlet targetRotationX = 0;\nlet targetRotationY = 0;\n\nconst throttledMouseMove = _.throttle(function (event) {\n  targetRotationX = (event.clientX / window.innerWidth) * 0.76 * Math.PI;\n  targetRotationY = (event.clientY / window.innerWidth) * 0.46 * Math.PI;\n}, 100);\n\ndocument.addEventListener(\"mousemove\", throttledMouseMove);\n\n// document.addEventListener(\n//   \"mousemove\",\n//   function (event) {\n//     targetRotation = (event.clientX / window.innerWidth) * 2 * Math.PI;\n//   },\n//   false\n// );\n\nlet clock = new Clock();\n\nrenderer.setAnimationLoop(() => {\n  // Update the current rotation towards the target rotation\n  currentRotationX += (targetRotationX - currentRotationX) * 0.0342;\n  currentRotationY += (targetRotationY - currentRotationY) * 0.0342;\n\n  // Apply the rotation to the sphere\n  o.rotation.x = currentRotationY;\n  o.rotation.y = currentRotationX;\n\n  // controls.update();\n  let t = clock.getElapsedTime();\n  gu.time.value = t * 0.17;\n  renderer.render(scene, camera);\n});\n"},"lineCount":null}},"error":null,"hash":"e5f03599783500abba57d83e4d37672d","cacheData":{"env":{}}}